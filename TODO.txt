Week 1 â€“ Backend Core & Authentication
Goal: Secure backend with JWT authentication and PostgreSQL.
Tasks:
Create base packages (config, auth, common, entities).
Add User entity, repository, DTOs.
Implement SecurityConfig.java with JWT filters.
Add AuthController with /register and /login.
Create GlobalExceptionHandler.
Test with Postman: register/login â†’ receive JWT.
Deliverable: Users can register & login; JWT protects all endpoints.



CHATGPT RAW
Hereâ€™s how weâ€™ll break down **Week 1 â€“ Backend Core & Authentication** into a structured workflow so you can follow it step by step. Iâ€™ll also show you the exact files/folders youâ€™ll have by the end of this week.

---

### ğŸ“‚ File Structure (end of Week 1)

```
src/main/java/com/logistics
â”‚â”€â”€ config
â”‚   â”œâ”€â”€ SecurityConfig.java
â”‚   â”œâ”€â”€ JwtAuthenticationEntryPoint.java
â”‚   â”œâ”€â”€ JwtAuthenticationFilter.java
â”‚   â”œâ”€â”€ JwtTokenProvider.java
â”‚
â”‚â”€â”€ auth
â”‚   â”œâ”€â”€ AuthController.java
â”‚   â”œâ”€â”€ AuthService.java
â”‚   â”œâ”€â”€ dto
â”‚   â”‚   â”œâ”€â”€ LoginRequest.java
â”‚   â”‚   â”œâ”€â”€ RegisterRequest.java
â”‚   â”‚   â”œâ”€â”€ AuthResponse.java
â”‚
â”‚â”€â”€ common
â”‚   â”œâ”€â”€ GlobalExceptionHandler.java
â”‚
â”‚â”€â”€ entities
â”‚   â”œâ”€â”€ User.java
â”‚
â”‚â”€â”€ repositories
â”‚   â”œâ”€â”€ UserRepository.java
```

---

### âš™ï¸ Step-by-Step Workflow

#### 1. **Create Base Packages**

Inside `src/main/java/com/logistics`, create the following:

* `config` â†’ for security configs & JWT helpers
* `auth` â†’ controllers & services for authentication
* `common` â†’ global exception handling, constants
* `entities` â†’ JPA entities (User, etc.)
* `repositories` â†’ Spring Data JPA repositories

---

#### 2. **User Entity & Repository**

* `User.java` â†’ fields: `id`, `username`, `email`, `password`, `role`
* `UserRepository.java` â†’ extends `JpaRepository<User, Long>`

---

#### 3. **DTOs for Auth**

* `LoginRequest.java` â†’ `username/email`, `password`
* `RegisterRequest.java` â†’ `username`, `email`, `password`
* `AuthResponse.java` â†’ returns `JWT token` & maybe user details

---

#### 4. **JWT Utilities**

* `JwtTokenProvider.java` â†’ generates & validates JWT
* `JwtAuthenticationFilter.java` â†’ extracts token from header, validates, sets authentication in context
* `JwtAuthenticationEntryPoint.java` â†’ handles unauthorized access

---

#### 5. **SecurityConfig.java**

* Enable Spring Security with JWT filters
* Permit `/api/auth/**` for public access
* Protect all other endpoints with JWT

---

#### 6. **AuthController.java**

* `/api/auth/register` â†’ creates a new user, saves in DB (password encrypted with `BCryptPasswordEncoder`)
* `/api/auth/login` â†’ validates credentials, returns JWT

---

#### 7. **GlobalExceptionHandler.java**

* Use `@RestControllerAdvice` to handle validation errors, unauthorized access, etc.

---

#### 8. **Test with Postman**

* `POST /api/auth/register` â†’ create a user
* `POST /api/auth/login` â†’ returns JWT
* Try accessing a protected endpoint (e.g., `/api/users/me`) with and without JWT

---

### âœ… Deliverable by End of Week 1

* Users can **register and login**
* JWT issued on login
* All endpoints protected except `/api/auth/**`

---

Do you want me to **write the actual starter code** for each file (entity, DTOs, config, controller, etc.) so you just copy-paste into your project, or do you prefer a guided step-by-step where I explain and you implement?
